<!--
 * @Author: fracong
 * @Date: 2020-08-28 17:46:40
 * @LastEditors: fracong
 * @LastEditTime: 2020-08-29 20:47:47
-->
<ng-container>
    <table class="table-list" width="100%">
        <thead>
            <tr>
                <th *ngFor="let field of fieldList;let index = index" [ngStyle]="{'width': field.width}">
                    <div *ngIf="index != (fieldList.length - 1)">{{ field.name }}</div>
                    <div *ngIf="index == (fieldList.length - 1)" style="text-align: right;">{{ field.name }}</div>
                </th>
            </tr>
        </thead>
        <tbody [ngClass]="{'show-border':tableInfo.isShowTableBorder}">
            <tr *ngFor="let item of tableList; let index = index;"
                [ngStyle]="{'background-color': isTrHover && index == hoverIndex? '#f7f6f2' : ''}"
                (mouseover)="isTrHoverFunc(true, index)" 
                (mouseleave)="isTrHoverFunc(false, index)">
                <td *ngFor="let field of fieldList;" [ngClass]="field.class">
                    <div class="item-type"*ngIf="field.type == 'typeList'">
                        <span>「</span>
                        <span *ngFor="let typeItem of item[field.key]; let typeItemIndex = index;">
                            <a  *ngIf="field.listType == 'aLabel'; else otherTypeItem;" href="{{ typeItem.url}}" 
                                [ngStyle]="{'color':(index == hoverIndex && field.key == hoverFieldKey && hoverTypeItemIndex == typeItemIndex &&  isHover) ? field.aHoverColor: field.aColor}"
                                (mouseover)="isHoverFunc(true, index, field.key, typeItemIndex)" 
                                (mouseleave)="isHoverFunc(false, index, field.key, typeItemIndex)">
                                {{ typeItem.value }}
                            </a>
                            <ng-template #otherTypeItem>{{ typeItem }}</ng-template>
                            <span class="split-symbol"*ngIf="typeItemIndex != (item[field.key].length -1)">{{ field.splitSymbol }}</span>
                        </span>
                        <span>  」</span>
                    </div>
                    <div *ngIf="field.type == 'aLabel'">
                        <a  href="{{ item[field.key].url }}" [ngStyle]="{'color':(index == hoverIndex && field.key == hoverFieldKey &&  isHover) ? field.aHoverColor: field.aColor}"
                            (mouseover)="isHoverFunc(true, index, field.key)" (mouseleave)="isHoverFunc(false, index, field.key)">
                            {{ item[field.key].value }}
                        </a>
                    </div>
                    <div *ngIf="field.type == undefined || field.type == 'font'"
                        [ngStyle]="{'color':(index == hoverIndex && field.key == hoverFieldKey &&  isHover) ? field.aHoverColor: field.aColor}"
                        (mouseover)="isHoverFunc(true, index, field.key)" (mouseleave)="isHoverFunc(false, index, field.key)">
                        {{ item[field.key] }}
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</ng-container>